
# 更新日志

本文档记录项目的所有重要变更。


## [0.2.0-beta] - 2025-12-04

### ✨ 新增功能
- ☁️ WebDAV 云同步功能
  - 支持连接 WebDAV 服务器进行数据同步
  - 云端备份管理（创建、恢复、删除）
  - 同步冲突检测与解决
  - 操作日志实时显示
- ⚙️ 设置中新增「云同步」配置 Tab
  - WebDAV 服务器地址、路径、账号密码配置
  - 连接测试功能
- 🔄 手动检查更新功能
  - 关于弹窗中新增「检查更新」按钮
  - 支持查看当前版本与最新版本对比
  - 一键跳转软件发布页下载

### 🌍 国际化
- 窗口按钮 tooltip 多语言支持（关于、设置、最小化、最大化、关闭）

### 🛠️ 技术改进
- 全面性能优化
  - 使用 `React.memo` 优化组件渲染（DayCell、CalendarHeader、DayEditor 等）
  - 使用 `useCallback` 和 `useMemo` 减少不必要的重新渲染
  - 优化事件处理函数的稳定性

### 🐛 问题修复
- 修复日历单元格农历/节日文字溢出问题
- 修复预览弹窗点击背景无法关闭的问题
- 修复空贴纸数组仍渲染容器的问题
- 修复编辑器文本框高度无限制的问题
- 修复日记编辑器中长文本内容无法自动换行显示的问题

---

## [0.1.6-beta] - 2025-11-29

### 🛠️ 技术改进
- 性能优化。

---
## [0.1.5-beta] - 2025-11-28

### ✨ 新增功能
- 🖱️ 右键预览日记：在某一天上右键弹出“预览窗口”，样式与“设置”窗口一致
- 🪟 多预览支持：同一遮罩层中并排展示多个日期的预览卡片，便于同时查看
- 🧭 居中显示与大尺寸：预览窗口居中显示，默认宽度增至 700px，适配更大内容
- 📜 完整多行展示：每条记录完整显示为多行文本，支持纵向滚动
- 🚫 禁用横向滚动：长行自动换行，避免出现横向滚动条
- 🗓️ 农历显示优化：编辑器副标题展示完整农历年月日（干支年+月+日），如“乙巳年十月初九”

### 🌍 国际化
- 记录计数文案本地化：`entriesCount`（如“共{count}条记录”）
- 搜索功能文案本地化：标题、占位文本、空状态、无结果、结果计数
- 设置页标签本地化：`常规设置`、`安全与隐私`
- 启动密码保护区域全面本地化：开关、验证方式、提示与错误信息、TOTP 验证流程

### 🛠️ 技术改进
- 版本信息动态读取：设置窗口与关于窗口的版本号改为读取配置
  - Electron 环境通过 `app:getVersion` 获取应用版本
  - Web 环境回退读取 `package.json` 的 `version`
- 预览遮罩层事件拦截：遮罩出现后禁用底层日历格子的交互
- 预览卡片视觉优化：统一阴影与圆角，视觉与“设置”窗口一致

### 🐛 Bug 修复
- 修复国际化函数类型问题，保证 `t()` 在新键值下类型安全
- 修复遮罩层出现时底部仍可点击的问题

---

## [0.1.4-beta] - 2025-11-27

### 🐛 Bug 修复
- 修复：单格日记超过3条以上的记录时，页面会自动被拉伸，导致一部分UI超出软件窗口，只有放大窗口才能看见。现在可以动态的展示可容下的记录，当有超出可视区域的记录时，会在格子右上部分显示具体有几条记录。

---

## [0.1.3-beta] - 2025-11-26

### ✨ 新增功能
- 🔍 日记搜索功能：支持全文搜索所有日记内容
- ⌨️ 快捷键支持：macOS 使用 Cmd+F，Windows/Linux 使用 Ctrl+F
- 💡 智能高亮：搜索结果中关键词黄色高亮显示
- 📍 精准定位：点击搜索结果自动跳转到对应月份和日期
- ✨ 视觉反馈：选中的日期单元格蓝色边框闪动两次

### 🛠️ 技术实现
- 实时搜索过滤，支持模糊匹配
- 搜索结果按日期降序排列
- 显示匹配文本的上下文预览
- 脉冲动画效果增强用户体验

---

## [0.1.2-beta] - 2025-11-26

### ✨ 新增功能
- 🎉 地区自适应节假日：支持各国法定节假日和传统节日显示
- 🔐 安全认证系统：支持 PIN 码和 TOTP 验证器双重认证
- 📱 验证器集成：支持 Google/Microsoft Authenticator 等应用
- 🔄 灵活认证：PIN 码和验证器可同时配置和使用
- 🎯 智能记忆：自动记住上次使用的认证方式
- 🚪 退出选项：在认证界面提供退出应用按钮

### 🛠️ 技术实现
- 集成 otpauth 库实现 TOTP 算法
- 使用 qrcode 库生成验证器 QR 码
- 增强 localStorage 安全设置存储
- 改进认证模态框的用户体验

---

## [0.1.1-beta] - 2025-11-26

### 🐛 Bug 修复
- 修复农历日期显示不准确的问题，现使用 lunar-javascript 库进行精确计算

---

## [0.1.0-beta] - 2025-01-22

### ✨ 新增功能
- 📅 月历视图展示
- 📝 多行文本日记/待办记录
- 🎨 心情贴纸系统（20+ 表情）
- 📊 月度计划功能（3条计划）
- 💾 本地数据存储
- 📦 数据导入/导出功能
- 🌍 多语言支持（简中、繁中、英、日、韩、俄）
- 🔄 自动更新检测
- 🖥️ 跨平台支持（Windows、macOS、Linux）
- ⚙️ 自定义标题栏
- 🎯 表情符号快速选择

### 🛠️ 技术实现
- React 19.2.0
- TypeScript 5.8.2
- Electron 39.2.3
- Vite 6.2.0
- Tailwind CSS
- electron-updater 6.1.7

### 📦 发布平台
- Windows: NSIS 安装器、便携版
- macOS: DMG、ZIP (Apple Silicon)
- Linux: AppImage、DEB

---

## 计划中的功能

### v0.2.0
- [ ] 数据加密存储
- [ ] 主题切换（深色模式）
- [ ] 日历打印功能
- [ ] 快捷键支持
- [ ] 搜索功能

### v0.3.0
- [ ] 云同步（可选）
- [ ] 附件支持（图片、文件）
- [ ] 标签系统
- [ ] 统计分析

---

格式说明：
- `[版本号]` - 发布日期
- ✨ 新增功能
- 🐛 Bug 修复
- 🛠️ 技术改进
- 📝 文档更新
- 💥 破坏性变更
